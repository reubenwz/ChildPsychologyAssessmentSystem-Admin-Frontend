<div class="grid">
  <div class="col-12" *ngIf="createSubModuleForm$ | async as createSubModuleForm">
    <form [formGroup]="createSubModuleForm" (submit)="createSubModule()">
      <div class="p-datatable-gridlines p-datatable p-component p-datatable-responsive-scroll">
        <table role="table" class="p-datatable-table ng-star-inserted">
          <tbody class="p-element p-datatable-tbody">
          <tr class="ng-star-inserted">
            <td>Name</td>
            <td class="p-fluid">
              <input pInputText formControlName="subModuleName"/>
            </td>
          </tr>
          <tr class="ng-star-inserted">
            <td>Description</td>
            <td class="p-fluid">
              <ng-container formArrayName="subModuleDescription">
                <div class="p-inputgroup" *ngFor="let _ of subModuleDescription.controls; index as i">
                  <button pButton type="button" icon="pi pi-minus"
                          class="p-inputgroup-addon p-button-outlined p-button-danger"
                          (click)="removeSubModuleDescription(i)"></button>
                  <textarea pInputTextarea [formControlName]="i"></textarea>
                  <button pButton type="button" icon="pi pi-plus" class="p-inputgroup-addon p-button-outlined"
                          (click)="addSubModuleDescription()"></button>
                </div>
              </ng-container>
            </td>
          </tr>
          <tr class="ng-star-inserted">
            <td>Is Info</td>
            <td class="p-fluid">
              <p-checkbox [formControl]="$any(createSubModuleForm).controls['isInfo']" [binary]="true"></p-checkbox>
            </td>
          </tr>
          </tbody>
        </table>
        <div class="p-datatable-footer ng-star-inserted">
          <button pButton label="Create Sub Module" type="submit"
                  [disabled]="createSubModuleForm.invalid || (applicationStateService.isProcessing$ | async)"></button>
        </div>
      </div>
    </form>
  </div>
</div>
